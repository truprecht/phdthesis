\documentclass[../../../../document.tex]{subfiles}

\begin{document}
    \begin{tikzpicture}[
        edge from parent path={(\tikzparentnode.south) -- ++(0,-.7ex) -| (\tikzchildnode.north)},
        every path/.style={line width=.2ex},
        level distance=3ex,
        node distance=0ex,
        anchor=center,
        level 2/.style={sibling distance=8em},
        level 3/.style={sibling distance=5em},
        level 4/.style={sibling distance=4em},
        every node/.style={font=\small},
%        baseline=(s.base)
        ]
        \matrix (pos) [matrix of nodes, every node/.style={anchor=center, inner sep=0pt}, column sep=2ex] {
             \cn{wrb} & \cn{pt} & \cn{nn} & \cn{vbd} & \cn{vbn} & \cn{rp} \\
        };

        \begin{scope}[every node/.style={font=\small, inner sep=1pt}]
            \node[above=14.5ex of pos, xshift=-3em] (sbar) {\cn{sbar}}
            child {node[yshift=.5ex] (s) {\cn{s}}
                child { node[xshift=3em] (vp1) {\cn{vp}}
                    child { node[xshift=2em] (vp2) {\cn{vp}}
                        child { node[above=3ex of pos-1-1] {\cn{wh}}
                            child { node[above= of pos-1-1] {1} }}
                            child { node[above=of pos-1-5] (term4) {5}
                                edge from parent[double,fill=white]}
                            child { node[above=3ex of pos-1-6] {\cn{prt}}
                                child {
                                    node[above=of pos-1-6] (prt) {6}
                                    edge from parent[double]}}} %}
                    child {
                        node[above=of pos-1-4] (term3) {4}}}
                child { node[yshift=-6ex, xshift=-3em] (np) {\cn{np}}
                    child { node[above=of pos-1-2] (term1) {2} }
                    child {
                        node[above=of pos-1-3] (term2) {3}
                        edge from parent[double]}}
             edge from parent[double]};
        \end{scope}


        % redraw corssing edges with white foundation
        \begin{scope}
            \draw[double] (vp2.south) -- ++(0,-.7ex) -| (term4.north);

            \draw[white, line width=.9ex] (vp1.south) -- ++(0,-.7ex) -| (term3.north);
            \draw (vp1.south) -- ++(0,-.7ex) -| (vp2.north);
            \draw[double] (vp1.south) -- ++(0,-.7ex) -| (term3.north);

            \draw[white, line width=.7ex] (s.south) ++(.5pt,-.5ex) -| (np.north);
            \draw (s.south) -- ++(0,-.7ex) -| (np.north);
            \draw[double] (s.south) -- ++(0,-.7ex) -| (vp1.north);
        \end{scope}
    \end{tikzpicture}
\end{document}
