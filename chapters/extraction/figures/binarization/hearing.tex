\documentclass[../../../../document.tex]{subfiles}

\begin{document}
    \begin{tikzpicture}[
        edge from parent path={(\tikzparentnode.south) -- ++(0,-.5ex) -| (\tikzchildnode.north)},
        every path/.style={line width=.2ex},
        level distance=3.5ex,
        node distance=0ex,
        anchor=center,
        sibling distance=7mm,
%        level 1/.style={sibling distance=8em},
%        level 2/.style={sibling distance=5em},
%        level 3/.style={sibling distance=4em},
        every node/.style={font=\small}
        ]
        \matrix (pos) [matrix of nodes, every node/.style={anchor=center, inner sep=0pt}, column sep=2ex] {
            \cn{dt} & \cn{nn} & \cn{vbz} & \cn{vbn} & \cn{in} & \cn{dt} & \cn{nn} & \cn{nn} \\
        };

        \node[above=28mm of pos, xshift=-13mm] (vp1) {\cn{vp}}
            child { node (vp2) {\cn{vp}}
                child { node[xshift=4mm] (np1) {\cn{np}}
                    child { node[xshift=1mm] (np2) {\cn{np}}
                        child { node[above=of pos-1-1] {1}}
                        child {
                            node[above=of pos-1-2] {2}
                            edge from parent[double]}
                        edge from parent[double]}
                    child { node[xshift=26mm] (pp) {\cn{pp}}
                        child {
                            node[above=of pos-1-5] {5}
                            edge from parent[double]}
                        child { node {\cn{np}}
                            child { node[above=of pos-1-6] {6}}
                            child {
                                node[above=of pos-1-7] {7}
                                edge from parent[double]}}}}
                child {
                    node[above=of pos-1-4] (term4) {4}
                    edge from parent[double]}
                child { node (npr) at (np1-|pos-1-8) {\cn{np}}
                    child {
                        node[above=of pos-1-8] {8}
                        edge from parent[double]}}}
            child {
                node[above=of pos-1-3] (term3) {3}
                edge from parent[double]};

        % redraw corssing edges with white foundation
        \begin{scope}
            \draw[white, line width=1ex] (vp2.south) ++(-.5ex,-.5ex) -| (term4.north);
            \draw (vp2.south) -- ++(0,-.5ex) -| (npr.north);
            \draw (vp2.south) -- ++(0,-.5ex) -| (np1.north);
            \draw[double] (vp2.south) -- ++(0,-.5ex) -| (term4.north);

            \draw[white, line width=1ex] (vp1.south) -- ++(0,-.5ex) -| (term3.north);
            \draw (vp1.south) -- ++(0,-.5ex) -| (vp2.north);
            \draw[double] (vp1.south) -- ++(0,-.5ex) -| (term3.north);
        \end{scope}
    \end{tikzpicture}
\end{document}
