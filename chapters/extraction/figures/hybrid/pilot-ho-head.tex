\documentclass[../../../../document.tex]{subfiles}

\begin{document}
    \begin{tikzpicture}[
        edge from parent path={(\tikzparentnode.south) -- ++(0,-.5ex) -| (\tikzchildnode.north)},
        every path/.style={line width=.2ex},
        level distance=4ex,
        anchor=center,
        every node/.style={font=\small},
        baseline=(np.base)
        ]
        \coordinate (pos-1-1) at (0,0);
        \coordinate (pos-1-2) at (.6,0);
        \coordinate (pos-1-3) at (1.2,0);
        \coordinate (pos-1-4) at (1.8,0);
        \coordinate (pos-1-5) at (2.4,0);
        \coordinate (pos-1-6) at (3,0);
        \coordinate[fit=(pos-1-1)(pos-1-6)] (pos) {};

        \node[above=28mm of pos-1-4] (rt) {\cn{s}}
        child {
            node (rt1) {\cn{s}\binsyml{}}
            child {
                node (rt11) {\cn{s}\binsyml{}}
                child{node[above=1mm of pos-1-1] (term1) {1}}
                child {
                    node[xshift=-1ex] (rt112) {\cn{s}\binsymr{}}
                    child {node[above=1mm of pos-1-2] (term2) {2}}
                    child {
                        node[above=1mm of pos-1-3] (term3) {3}
                        edge from parent[double]}
                    edge from parent[double]}
                edge from parent[double]}
            child {node[xshift=1.5ex,yshift=-6.5mm] (np) (np) {\cn{np}}
                child {node[above=1mm of pos-1-4] (term4) {4}}
                child {
                    node[above=1mm of pos-1-5] (term5) {5}
                    edge from parent[double]}}
            edge from parent[double]}
        child {node[above=1mm of pos-1-6] (term6) {6}};

        % head guide
        \begin{scope}[font=\small, gray, every node/.style={inner sep=1pt, circle, draw, font=\scriptsize}, node distance=0ex]
            \node [right=of rt] {3};
            \node [right=of rt1, draw=none] {3};
            \node [right=of rt11, draw=none] {3};
            \node [right=of rt112, draw=none] {3};
            \node [right=of np] {5};
            \node[draw, gray, circle] at (term1) {\phantom{3}};
            \node[draw, gray, circle] at (term2) {\phantom{3}};
            \node[draw, gray, circle] at (term4) {\phantom{3}};
            \node[draw, gray, circle] at (term6) {\phantom{3}};
        \end{scope}
    \end{tikzpicture}
\end{document}
