\documentclass[../../document.tex]{subfiles}

\begin{document}%
    \tikzset{
        tcomp/.style={
            level distance=2ex,
            font=\scriptsize,
            inner sep=.4px,
            outer sep=.5px,
            sibling distance=1.2em,
            baseline={(current bounding box.center)},
            node distance=.2em,
            edge from parent path={(\tikzparentnode.south) -- ++(0,-.3ex) -| (\tikzchildnode.north)},
            every path/.style={line width=.15ex},
            draw=none,
            rounded corners=0
        },
    }%
%    \input{00-survey-lexderiv-commands.tex}%
    \newcommand{\rootclause}{\tikz[tcomp]\node{\cn{sbar}} child { node {\cn{s}} child {node{$x_1$}} child { node {$x_2$} child { node {2}}}};}%
    \newcommand{\uppervclause}{\tikz[tcomp]\node{\cn{vp}} child {node{$\x_1$}} child { node {4}};}%
    \newcommand{\lowervclause}{\tikz[tcomp]\node{\cn{vp}} child {node{$\x_1$}} child { node {$\x_2$} child { node {5}}};}%
    \newcommand{\whclause}{\tikz[tcomp]\node{\cn{wh}} child {node{1}};}%
    \newcommand{\prtclause}{\tikz[tcomp]{\node(r) {$\y$};\node[right=of r]{\cn{prt}} child {node{6}};}}%
    \newcommand{\nnclause}{\tikz[tcomp]\node{\cn{np}} child {node {$\y$}} child {node{3}};}%
    %
    \begin{tikzpicture}[anchor=center, outer sep=0px, inner sep=1pt]
        \node (root) {\(\nt{s} \to [\x_1^1\,\text{2}\,\x^1_2\,\x_1^2]\begin{bmatrix}\rootclause{}\end{bmatrix} (\nt{v}_2, \nt{n})\)}
        [sibling distance=7em,level distance=8ex]
        child { node (vp1) {\(\nt{v}_2 \to [\x_1^1, \text{4}\, \x_1^2] \begin{bmatrix}\uppervclause{}\end{bmatrix} (\nt{v}_2)\)}
            [sibling distance=6.5em]
            child{ node[yshift=-2ex] (vp2) {\(\nt{v}_2 \to [\x_1^1, \text{5}\, \x_2^1] \begin{bmatrix}\lowervclause{}\end{bmatrix} (\nt{d}, \nt{v}\binsym{})\)}
                child { node (term0) {\(\nt{d} \to[\text{1}] \begin{bmatrix}\whclause{}\end{bmatrix}\)}}
                child { node[xshift=2em] (term5) {\(\nt{v}\binsym{} \to [\text{6}] \begin{bmatrix}\prtclause{}\end{bmatrix}\)}}}}
        child { node[yshift=-5ex] (np) {\(\nt{n} \to [\text{3}] \begin{bmatrix}\nnclause{}\end{bmatrix}\)}};
    \end{tikzpicture}
\end{document}